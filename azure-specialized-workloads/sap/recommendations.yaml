- description: 各 SAP 運用システムが、可用性ゾーン間で高可用性を実現するように設計されていることを確認する
  aprlGuid: a9b649a5-2bfe-40ca-9b8f-34f9c71dfa12
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Use Azure Availability Zones to protect SAP systems against data center failures. Ensure high availability by deploying across multiple zones. If deployment across zones isn't possible, refer to Microsoft's guidance for high availability options for SAP workloads.
  potentialBenefits: High availability for SAP systems
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Quality Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: Move Regional SAP HA to Zonal
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/Move-VM-from-AvSet-to-AvZone/Move-Regional-SAP-HA-To-Zonal-SAP-HA-WhitePaper"
    - name: High Availability Deployment Options for SAP
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/sap-high-availability-architecture-scenarios#high-availability-deployment-options-for-sap-workload"

- description: VMSS Flex を使用して 2 つ以上の VM で SAP アプリケーション サーバーを実行する
  aprlGuid: 49bd34ab-d117-4b0e-99f8-34cc8a5394bc
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Use VMSS Flex to distribute VMs across zones and fault domains. Follow Microsoft's SAP workload recommendations for settings. If not using VMSS Flex or Availability Sets, consider migrating to VMSS Flex for improved resiliency. Refer to the provided blog post for migration details.
  potentialBenefits: Enhanced resiliency for SAP on Azure
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"
    - name: Virtual machine Scale Set SAP Deployment Guide
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/virtual-machine-scale-set-sap-deployment-guide"
    - name: Considerations for Flexible VM Scale Sets for SAP
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/virtual-machine-scale-set-sap-deployment-guide?tabs=scaleset-cli#important-consideration-of-flexible-virtual-machine-scale-sets-for-sap-workload"
    - name: Migrate existing SAP system VMs to VMSS Flex
      url: "https://techcommunity.microsoft.com/t5/running-sap-applications-on-the/how-to-easily-migrate-an-existing-sap-system-vms-to-flexible/ba-p/3833548"

- description: 単一インスタンス VM を使用する場合は、すべての OS ディスクとデータ ディスクが Premium SSD または Ultra Disk である必要がある
  aprlGuid: b60ae773-9917-4bca-8a42-7cb45365a917
  recommendationTypeId: 58d6648d-32e8-4346-827c-4f288dd8ca24
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    単一インスタンス VM の場合、99.9% の可用性という単一インスタンス SLA を実現するには、OS ディスクとデータ ディスクの両方が Premium SSD または Ultra Disk である必要があります。
  potentialBenefits: Higher SLA of 99.9% with SSDs
  pgVerified: true
  automationAvailable: true
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: VM SLA
      url: "https://www.azure.cn/ja-jp/support/sla/virtual-machines/"
    - name: SAP Storage Planning Guide
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/planning-guide-storage"

- description: プライマリ VM ノードとセカンダリ VM ノード間の同期データ レプリケーション (SYNC モード) を確保する
  aprlGuid: 094400a5-f112-408d-a334-afd68873ff0f
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    データベースの高可用性は、データベース ネイティブ レプリケーション テクノロジーを使用して実装し、データはプライマリ データベースからスタンバイ ノードに同期的に、つまり SYNC モードでレプリケートする必要があります。
  potentialBenefits: Ensures high availability for SAP data
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"

- description: 高可用性を実現する SAP 共有ファイルシステムを設計し、可能な場合は可用性ゾーンを活用する
  aprlGuid: e09ca960-20b7-4831-b85b-83ec84c1390e
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    /sapmnt、/usr/trans、インターフェースなどの SAP 共有ファイルシステムは、高可用性にする必要があります。
    Azure File Shares の場合は ZRS (ゾーン冗長ストレージ) を使用し、Azure NetApp Files の場合はボリュームにゾーン レプリケーションを使用することをお勧めします。
  potentialBenefits: Enhanced data availability for SAP
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"

- description: 高可用性ソリューションを徹底的にテストして、フェールオーバーが期待どおりに機能することを確認する
  aprlGuid: 5663a808-56be-49ea-8d5c-c5dfc6925f76
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Test high availability solutions thoroughly, including kernel panic in Linux VMs and fail-back. Ensure zonal failure scenarios for each SAP layer (database, central services, application servers, shared file systems) are zone redundant, meet RPO = 0, and fail over automatically within your RTO.
  potentialBenefits: Ensures SAP Azure's failover reliability
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: Test Cases
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/sap-hana-high-availability?tabs=lb-portal#test-the-cluster-setup"

- description: Linux Pacemaker クラスターから不要な場所の制約を削除する
  aprlGuid: 1b8a3051-dfd4-4780-bfb7-446296774029
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Use the migrate command in a Linux Pacemaker cluster to create a temporary "prefer" location constraint, moving a resource to a specified node for maintenance or testing. This constraint is temporary and should be removed after the task to revert to the original cluster configuration.
  potentialBenefits: Enhanced maintenance and failover handling
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"

- description: DR リージョン内の重要な VM ロールのコンピューティング リソース容量を保護する
  aprlGuid: 820b4c0c-8a74-442a-8ba7-b0cb840cd983
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: Medium
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Ensure compute resource availability for critical VM roles in a DR region using a warm standby approach or Azure's On-demand Capacity Reservation. Warm standby keeps VMs running in the DR region, while On-demand Capacity Reservation reserves compute capacity without running VMs.
  potentialBenefits: Guarantees DR region availability
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: Capacity Reservation
      url: "https://learn.microsoft.com/ja-jp/azure/virtual-machines/capacity-reservation-overview"

- description: ベンダーのレプリケーション テクノロジーを使用して、本番データベースを DR ロケーションにレプリケート (ASYNC) する
  aprlGuid: fb8bdcee-d88f-408d-8572-a76a4aaa733b
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    データベース ベンダーのレプリケーション テクノロジーを使用して、本番データベースを DR ロケーションにレプリケート (ASYNC) します。
  potentialBenefits: Enhanced DR resilience
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP Disaster Recovery Guide
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/disaster-recovery-sap-guide?tabs=windows"

- description: SAP コンポーネントを適切なバックアップ ツールや ASR を使用して DR サイトにバックアップする
  aprlGuid: 41f0d88e-7866-4444-aac4-ef5fee3e6874
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    (A) SCS、アプリケーション サーバー、WebDispatcher などの SAP コンポーネントは、適切なバックアップ ツールや ASR を使用して DR ロケーションにバックアップします。
  potentialBenefits: Ensures SAP data safety and recovery
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Inventory Checks
      url: "https://aka.ms/ACESInventoryCheckSAP"

- description: SAP 共有ファイル システムを DR ロケーションにレプリケートやバックアップする
  aprlGuid: ee4dc309-00a1-49fe-92fa-1724baf5f103
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Implement robust monitoring and alerting for DR in SAP on Azure to cover its complex, multi-layer architecture. This is crucial for databases, services, applications, and shared systems.
  potentialBenefits: Enhances SAP DR oversight
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: DR Guidance
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/disaster-recovery-sap-guide?tabs=windows"

- description: DR インフラストラクチャの構築を自動化したり、DR リソースを事前デプロイしたりする
  aprlGuid: 0fabc52e-cdbb-4acd-8626-c4c637061e2d
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: Medium
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    ディザスター リカバリー (DR) インフラストラクチャの構築 (または DR リソースの事前デプロイ) を自動化し、SAP サービスの復元を可能な限り効率化します。
  potentialBenefits: Faster SAP recovery, reduced downtime
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: DR Guidance
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/disaster-recovery-sap-guide?tabs=windows"

- description: DR 手順を文書化してテストし、RPO と RTO の目標が確実に満たされていることを確認する
  aprlGuid: c300e949-528d-4ac9-889b-cacf8b4a6e90
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: Medium
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Document DR procedures for each SAP layer: database, central services, application servers, and shared file systems. Include configuration, failover mechanisms, and recovery steps. Test various failure scenarios to ensure the DR strategy meets RPO/RTO targets and provides seamless failover.
  potentialBenefits: Ensures robust DR, meets RPO/RTO
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: DR Guidance
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/disaster-recovery-sap-guide?tabs=windows"

- description: DR ソリューション全体に対して堅牢な監視およびアラート ソリューションが配置されていることを確認する
  aprlGuid: c27134b7-6917-4852-8276-3dbef5c71578
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: Medium
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Implement robust monitoring and alerting for SAP on Azure, covering DR for databases, central services, applications, and shared file systems. Given SAP's complexity, a comprehensive monitoring strategy is crucial for effective DR replication and rapid issue response.
  potentialBenefits: Improved DR oversight and rapid issue response
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: DR Guidance
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/disaster-recovery-sap-guide?tabs=windows"

- description: スケジュールされたイベント通知を構成する
  aprlGuid: 6b589ce6-c847-4cee-af35-f6e8eb1cf983
  recommendationTypeId: null
  recommendationControl: Monitoring and Alerting
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Scheduled events notify about upcoming maintenance (e.g., reboot) to limit disruption. Configure for all critical Azure VMs. Use the azure-events-az resource agent in Pacemaker clusters to monitor and react to events like Reboot and Redeploy, ensuring high availability.
  potentialBenefits: Proactive maintenance awareness
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: VM Scheduled Events
      url: "https://learn.microsoft.com/ja-jp/azure/virtual-machines/linux/scheduled-events"
    - name: Configure Pacemaker for Azure Scheduled Events
      url: "https://learn.microsoft.com/ja-jp/azure/sap/workloads/high-availability-guide-suse-pacemaker?tabs=msi#configure-pacemaker-for-azure-scheduled-events"

- description: SAP ASCS の高可用性のために Pacemaker クラスターを構成する
  aprlGuid: 9d8f6678-694c-4da4-8384-415201f65194
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    ASCS-Pacemaker (セントラル サーバー インスタンス) の場合は、Pacemaker クラスター構成パラメーターが SAP ASCS 高可用性用に正しく設定されていることを確認します。
  potentialBenefits: Enhances SAP ASCS uptime
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: ASCS-Pacemaker - Central Server Instance
      url: "https://docs.microsoft.com/ja-jp/azure/advisor/advisor-reference-reliability-recommendations"

- description: ロード バランサーが SAP ASCS 高可用性用に正しく構成されていることを確認する
  aprlGuid: 5c2e52d0-25be-4b1c-833c-b98b5ef1a26b
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    ASCS-LB (Central Server Instance) の場合は、ロード バランサーが SAP ASCS の高可用性用に正しく設定されていることを確認します。
  potentialBenefits: Enhanced HA for SAP ASCS
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: ASCS-LB - Central Server Instance
      url: "https://docs.microsoft.com/ja-jp/azure/advisor/advisor-reference-reliability-recommendations"

- description: Pacemaker クラスターが SAP HANA DB の高可用性のために設定されていることを確認する
  aprlGuid: 6648fe61-880d-4a96-8d2d-190a23d5580b
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    DBHANA-Pacemaker (データベース インスタンス) の場合は、Pacemaker クラスター構成パラメーターが SAP HANA データベースの高可用性用に正しく設定されていることを確認します。
  potentialBenefits: Enhances SAP HANA DB uptime
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: DBHANA-Pacemaker - Database Instance
      url: "https://docs.microsoft.com/ja-jp/azure/advisor/advisor-reference-reliability-recommendations"

- description: ロード バランサーが SAP HANA DB 高可用性用に正しく構成されていることを確認する
  aprlGuid: 2e4c2171-a83f-4238-a8e3-b51c90d86a99
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    DBHANA-LB (データベース インスタンス) の場合は、ロード バランサーが SAP HANA データベースの高可用性用に正しく構成されていることを確認します。
  potentialBenefits: Enhanced DB availability
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP ACSS Insights
      url: "https://learn.microsoft.com/ja-jp/azure/sap/center-sap-solutions/get-quality-checks-insights"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/tree/main/QualityCheck"
    - name: DBHANA-LB- Database Instance
      url: "https://docs.microsoft.com/ja-jp/azure/advisor/advisor-reference-reliability-recommendations"

- description: Azure NetApp Files で使用されるタイムアウト値について、SAP の設定を確認する
  aprlGuid: 4884cada-b9c7-42d5-8153-3853e4a6f6c4
  recommendationTypeId: null
  recommendationControl: High Availability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Ensure high availability of SAP with Azure NetApp Files by setting proper timeout values to prevent disruptions. Review the documentation to confirm your configuration meets the recommended timeout values.
  potentialBenefits: Improve resiliency and performance of SAP on Azure
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SAP on Azure NetApp 計画ガイド
      url: "https://learn.microsoft.com/azure/sap/workloads/planning-guide-storage#azure-netapp-files"

- description: データベース VM に推奨ストレージ構成をプロビジョニングする
  aprlGuid: 697deb1d-d398-4989-9734-9e6c18f7e0ad
  recommendationTypeId: null
  recommendationControl: Scalability
  recommendationImpact: High
  recommendationResourceType: Specialized.Workload/SAP
  recommendationMetadataState: Active
  longDescription: |
    Ensure optimal disk types and configurations for data and log volumes, meeting IOPS and throughput requirements. Follow Microsoft's recommendations for disk caching, WriteAccelerator, stripe size, and Linux I/O Scheduler. Use SAP on Azure QualityCheck tool to identify deviations.
  potentialBenefits: Improve reliability, performance and optimize costs
  pgVerified: true
  automationAvailable: false
  tags: null
  learnMoreLink:
    - name: SLES for SAP Applications VM 上でのシンプルなマウントと NFS を使用した高可用性 SAP NetWeaver
      url: "https://learn.microsoft.com/azure/sap/workloads/high-availability-guide-suse-nfs-simple-mount?tabs=lb-portal%2Censa1"
    - name: SAP アプリケーション用の Azure NetApp Files を使用した SUSE Linux Enterprise Server 上の Azure VM 上の SAP NetWeaver の高可用性
      url: "https://learn.microsoft.com/azure/sap/workloads/high-availability-guide-suse-netapp-files?tabs=lb-portal%2Censa1"
    - name: SUSE Enterprise Linux で Azure NetApp Files を使用した SAP HANA スケールアップの高可用性
      url: "https://learn.microsoft.com/azure/sap/workloads/sap-hana-high-availability-netapp-files-suse?tabs=lb-portal"
    - name: SAP アプリケーション用の Azure NetApp Files を使用した RHEL 上の SAP NetWeaver に対する Azure Virtual Machines の高可用性
      url: "https://learn.microsoft.com/azure/sap/workloads/high-availability-guide-rhel-netapp-files?tabs=lb-portal%2Censa1"
    - name: RHEL で Azure NetApp Files を使用した SAP HANA スケールアップの高可用性
      url: "https://learn.microsoft.com/azure/sap/workloads/sap-hana-high-availability-netapp-files-red-hat?tabs=lb-portal"
    - name: OpenSource Quality Checks
      url: "https://github.com/Azure/SAP-on-Azure-Scripts-and-Utilities/blob/main/QualityCheck/"
